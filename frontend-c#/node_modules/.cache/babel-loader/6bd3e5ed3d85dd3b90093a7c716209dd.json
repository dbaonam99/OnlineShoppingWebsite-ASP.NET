{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\n\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n/**\n * Returns the global window object associated with provided element.\n */\n\n\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class = /*#__PURE__*/function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\nexport default Measure;\nexport { withContentRect };","map":{"version":3,"sources":["/Users/namduong/node_modules/react-measure/dist/index.esm.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","Component","createElement","PropTypes","ResizeObserver","types","getTypes","props","allowedTypes","forEach","type","push","getContentRect","node","calculations","indexOf","client","top","clientTop","left","clientLeft","width","clientWidth","height","clientHeight","offset","offsetTop","offsetLeft","offsetWidth","offsetHeight","scroll","scrollTop","scrollLeft","scrollWidth","scrollHeight","rect","getBoundingClientRect","bounds","right","bottom","styles","getComputedStyle","margin","parseInt","marginTop","marginRight","marginBottom","marginLeft","getWindowOf","target","ownerGlobal","ownerDocument","defaultView","window","withContentRect","WrappedComponent","_class","_temp","_Component","WithContentRect","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","contentRect","entry","_animationFrameID","_resizeObserver","_node","_window","measure","entries","requestAnimationFrame","setState","onResize","_handleRef","unobserve","innerRef","current","observe","_proto","prototype","componentDidMount","componentWillUnmount","cancelAnimationFrame","disconnect","render","_this$props","measureRef","propTypes","bool","oneOfType","object","func","Measure","_ref","children","displayName"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n"]},"metadata":{},"sourceType":"module"}